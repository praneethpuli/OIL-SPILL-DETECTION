{% extends 'index.html' %}
{% block content %}

<!-- Contact Section -->
<section class="contact_section layout_padding">
  <div class="container d-flex flex-column align-items-center">
    <div class="heading_container text-center" style="margin-top: -50px;">
      <h2 style="text-align: center;">Register</h2>
      <img src="/static/images/plug.png" alt="">
    </div>
  </div>

  <div class="container d-flex justify-content-center align-items-center" style="min-height: 75vh; margin-top: -50px;">
    <div class="row w-100 d-flex justify-content-center">
      <div class="col-md-6 d-flex justify-content-center">
        <div class="form_container p-4 shadow rounded bg-white" style="width: 100%; max-width: 450px;">
          <!-- Message Display -->
          {% if message %}
  <div id="message"
       style="background-color: hsl(355, 70%, 91%); color: #26721c; padding: 15px; margin-bottom: 20px; border-radius: 5px; font-weight: bold; text-align: center; box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);">
    {{ message }}
  </div>
{% endif %}

          <form id="quoteForm" action="{{ url_for('register') }}" method="post" onsubmit="return validateForm()">
            <div class="mb-3">
              <input type="text" name="name" class="form-control" placeholder="Name" required />
            </div>
            <div class="mb-3">
              <input type="email" name="email" class="form-control" placeholder="Email" required id="email" />
            </div>
            <div class="mb-3">
              <input type="password" name="password" class="form-control" placeholder="Password" required
                id="password" />
            </div>
            <div class="mb-3">
              <input type="password" name='conformpassword' class="form-control" placeholder="Confirm Password" required
                id="confirmPassword" />
            </div>

            <div class="d-flex justify-content-center">
              <button class="btn btn-primary w-100">
                REGISTER
              </button>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>


</section>

<script>
  function validateForm() {
    // Get the form fields
    var email = document.getElementById("email").value;
    var password = document.getElementById("password").value;
    var confirmPassword = document.getElementById("confirmPassword").value;

    // Email validation
    var emailPattern = /^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,6}$/;
    if (!emailPattern.test(email)) {
      alert("Please enter a valid email address.");
      return false;
    }

    // Password match validation
    if (password !== confirmPassword) {
      alert("Passwords do not match.");
      return false;
    }

    return true;  // Form is valid
  }
</script>

{% endblock %}